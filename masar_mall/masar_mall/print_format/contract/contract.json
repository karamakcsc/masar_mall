{
 "absolute_value": 0,
 "align_labels_right": 0,
 "creation": "2025-10-02 12:38:03.935560",
 "custom_format": 1,
 "default_print_language": "en",
 "disabled": 0,
 "doc_type": "Lease Contract",
 "docstatus": 0,
 "doctype": "Print Format",
 "font_size": 14,
 "html": "<!DOCTYPE html>\r\n<html>\r\n<head>\r\n    <meta charset=\"utf-8\">\r\n <style>\r\n/* Contract Styling - Professional Legal Format */\r\n* {\r\n    box-sizing: border-box;\r\n}\r\n\r\nbody {\r\n    font-family: 'Times New Roman', serif;\r\n    line-height: 1.6;\r\n    color: #111;\r\n    margin: 0;\r\n    padding: 40px;\r\n    font-size: 11pt;\r\n    background-color: #fff;\r\n}\r\n\r\n.contract-container {\r\n    max-width: 8.27in;\r\n    margin: 0 auto;\r\n    padding: 50px 60px;\r\n    background: #fff;\r\n    border: 1px solid #bbb;\r\n    box-shadow: 0 0 2px rgba(0, 0, 0, 0.2);\r\n}\r\n\r\n/* Header */\r\n.header {\r\n    text-align: center;\r\n    margin-bottom: 40px;\r\n    padding-bottom: 15px;\r\n    border-bottom: 2px solid #000;\r\n}\r\n\r\n.header h1 {\r\n    font-size: 20pt;\r\n    margin: 0;\r\n    font-weight: bold;\r\n    letter-spacing: 1px;\r\n    text-transform: uppercase;\r\n}\r\n\r\n.header h2 {\r\n    font-size: 12pt;\r\n    margin-top: 5px;\r\n    font-style: italic;\r\n    color: #555;\r\n}\r\n\r\n/* Section Titles */\r\n.section-title {\r\n    font-size: 13pt;\r\n    font-weight: bold;\r\n    margin: 30px 0 15px;\r\n    padding-bottom: 4px;\r\n    border-bottom: 1px solid #000;\r\n    text-transform: uppercase;\r\n    color: #000;\r\n}\r\n\r\n/* Party and details blocks */\r\n.party-block, .premises-details, .terms-section, .allowance-section {\r\n    margin-bottom: 15px;\r\n    padding: 18px 20px;\r\n    border: 1px solid #ccc;\r\n    background-color: #fdfdfd;\r\n}\r\n\r\n.parties-section {\r\n    margin-bottom: 20px;\r\n}\r\n\r\n.party-title {\r\n    font-weight: bold;\r\n    font-size: 12pt;\r\n    margin-bottom: 12px;\r\n    color: #000;\r\n    text-transform: uppercase;\r\n    border-bottom: 1px solid #ccc;\r\n    padding-bottom: 5px;\r\n}\r\n\r\n.party-details {\r\n    display: grid;\r\n    grid-template-columns: 1fr 1fr;\r\n    gap: 12px;\r\n}\r\n\r\n.detail-item {\r\n    margin-bottom: 6px;\r\n}\r\n\r\n.detail-label {\r\n    font-weight: bold;\r\n    display: inline-block;\r\n    min-width: 150px;\r\n    color: #000;\r\n}\r\n\r\n/* Tables */\r\n.rent-table, .payment-table {\r\n    width: 100%;\r\n    border-collapse: collapse;\r\n    margin: 10px 0;\r\n    font-size: 11pt;\r\n    border: 1px solid #999;\r\n}\r\n\r\n.rent-table th, .payment-table th {\r\n    background-color: #eaeaea;\r\n    text-align: left;\r\n    padding: 8px 10px;\r\n    border: 1px solid #999;\r\n    font-weight: bold;\r\n}\r\n\r\n.rent-table td, .payment-table td {\r\n    padding: 8px 10px;\r\n    border: 1px solid #999;\r\n    vertical-align: top;\r\n}\r\n\r\n/* Term grid */\r\n.terms-grid {\r\n    display: grid;\r\n    grid-template-columns: 1fr 1fr;\r\n    gap: 12px;\r\n    margin: 12px 0;\r\n}\r\n\r\n.term-label {\r\n    font-weight: bold;\r\n    display: inline-block;\r\n    width: 160px;\r\n}\r\n\r\n/* Status colors */\r\n.status-overdue {\r\n    color: #b71c1c;\r\n    font-weight: bold;\r\n}\r\n.status-paid {\r\n    color: #1b5e20;\r\n    font-weight: bold;\r\n}\r\n\r\n/* Signature Section */\r\n.signature-area {\r\n    margin-top: 70px;\r\n    display: flex;\r\n    justify-content: space-between;\r\n}\r\n\r\n.signature-box {\r\n    width: 45%;\r\n    border-top: 1px solid #000;\r\n    padding-top: 15px;\r\n    text-align: center;\r\n    font-size: 11pt;\r\n}\r\n\r\n/* Footer */\r\n.footer {\r\n    margin-top: 50px;\r\n    text-align: center;\r\n    font-size: 10pt;\r\n    border-top: 1px solid #000;\r\n    padding-top: 15px;\r\n    color: #333;\r\n}\r\n\r\n/* Address and contact details */\r\n.horizontal-address {\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    gap: 4px;\r\n    font-size: 11pt;\r\n}\r\n\r\n.address-item:not(:last-child)::after {\r\n    content: \",\";\r\n    margin-right: 4px;\r\n}\r\n\r\n.contact-grid {\r\n    display: grid;\r\n    grid-template-columns: 1fr 1fr;\r\n    gap: 10px;\r\n    margin-top: 10px;\r\n}\r\n\r\n/* Print optimization */\r\n@media print {\r\n    body {\r\n        padding: 0;\r\n        margin: 0;\r\n    }\r\n\r\n    .contract-container {\r\n        border: none;\r\n        box-shadow: none;\r\n        padding: 0.4in 0.6in;\r\n        max-width: 100%;\r\n    }\r\n\r\n    /* Reduce spacing to fit more content */\r\n    .section-title {\r\n        margin: 20px 0 10px;\r\n        page-break-after: avoid !important;\r\n        break-after: avoid !important;\r\n        page-break-inside: avoid !important;\r\n        break-inside: avoid !important;\r\n    }\r\n\r\n    .party-block {\r\n        margin-bottom: 10px;\r\n        padding: 12px 15px;\r\n        page-break-inside: avoid !important;\r\n        break-inside: avoid !important;\r\n    }\r\n\r\n    .parties-section {\r\n        page-break-inside: auto;\r\n        break-inside: auto;\r\n    }\r\n\r\n    /* CRITICAL: Keep entire PREMISES section together */\r\n    .premises-details {\r\n        page-break-inside: avoid !important;\r\n        break-inside: avoid !important;\r\n        page-break-before: auto;\r\n        margin-bottom: 10px;\r\n        padding: 12px 15px;\r\n    }\r\n\r\n    /* Keep rent table with premises */\r\n    .rent-table {\r\n        page-break-inside: avoid !important;\r\n        break-inside: avoid !important;\r\n        page-break-before: avoid !important;\r\n        margin: 10px 0;\r\n    }\r\n\r\n    /* Payment schedule can break if needed */\r\n    .payment-schedule-section {\r\n        page-break-inside: auto;\r\n        break-inside: auto;\r\n        page-break-before: auto;\r\n    }\r\n\r\n    .payment-table {\r\n        page-break-inside: auto;\r\n        break-inside: auto;\r\n    }\r\n\r\n    /* Keep terms section together */\r\n    .terms-section {\r\n        page-break-inside: avoid !important;\r\n        break-inside: avoid !important;\r\n        margin-bottom: 10px;\r\n        padding: 12px 15px;\r\n    }\r\n\r\n    .allowance-section {\r\n        margin-bottom: 10px;\r\n        padding: 12px 15px;\r\n    }\r\n\r\n    /* Signature area - allow natural page break */\r\n    .signature-area {\r\n        page-break-before: auto;\r\n        page-break-inside: avoid !important;\r\n        break-inside: avoid !important;\r\n        margin-top: 40px;\r\n    }\r\n\r\n    /* Keep footer with signature if possible */\r\n    .footer {\r\n        page-break-inside: avoid !important;\r\n        break-inside: avoid !important;\r\n        margin-top: 30px;\r\n    }\r\n\r\n    /* Table optimization */\r\n    thead {\r\n        display: table-header-group;\r\n    }\r\n\r\n    tfoot {\r\n        display: table-footer-group;\r\n    }\r\n\r\n    tr {\r\n        page-break-inside: avoid !important;\r\n        break-inside: avoid !important;\r\n    }\r\n\r\n    thead tr {\r\n        page-break-after: avoid !important;\r\n    }\r\n\r\n    /* Reduce line height for print */\r\n    body {\r\n        line-height: 1.5;\r\n    }\r\n}\r\n\r\n/* Screen view */\r\n@media screen {\r\n    .section-title {\r\n        page-break-after: avoid;\r\n        break-after: avoid;\r\n    }\r\n    \r\n    .party-block {\r\n        page-break-inside: avoid;\r\n        break-inside: avoid;\r\n    }\r\n    \r\n    .premises-details {\r\n        page-break-inside: avoid;\r\n        break-inside: avoid;\r\n    }\r\n    \r\n    .rent-table {\r\n        page-break-inside: avoid;\r\n        break-inside: avoid;\r\n    }\r\n    \r\n    .terms-section {\r\n        page-break-inside: avoid;\r\n        break-inside: avoid;\r\n    }\r\n    \r\n    .signature-area {\r\n        page-break-inside: avoid;\r\n        break-inside: avoid;\r\n    }\r\n    \r\n    .footer {\r\n        page-break-inside: avoid;\r\n        break-inside: avoid;\r\n    }\r\n}\r\n</style>\r\n\r\n</head>\r\n<body>\r\n    <div class=\"contract-container\">\r\n\r\n        <!-- Parties Section -->\r\n        <div class=\"section-title\">Parties</div>\r\n        <div class=\"parties-section\">\r\n            <div class=\"party-block\">\r\n                <div class=\"party-title\">Owner / Lessor</div>\r\n                <div class=\"party-details\">\r\n                    <div class=\"detail-item\">\r\n                        <span class=\"detail-label\">Organization:</span>\r\n                        <span>{{ doc.owner_lessor }}</span>\r\n                    </div>\r\n                    <div class=\"detail-item\">\r\n                        <span class=\"detail-label\">Represented By:</span>\r\n                        <span>{{ doc.employee_name or '' }}</span>\r\n                    </div>\r\n                    <div class=\"detail-item\">\r\n                        <span class=\"detail-label\">Designation:</span>\r\n                        <span>{{ doc.designation or '' }}</span>\r\n                    </div>\r\n                    <div class=\"detail-item\">\r\n                        <span class=\"detail-label\">Status:</span>\r\n                        <span>{{ doc.status or'' }}</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"party-block\">\r\n                <div class=\"party-title\">Tenant / Lessee</div>\r\n                <div class=\"party-details\">\r\n                    <div class=\"detail-item\">\r\n                        <span class=\"detail-label\">Name:</span>\r\n                        <span>{{ doc.tenant_lessee }}</span>\r\n                    </div>\r\n                    <div class=\"detail-item\">\r\n                        <span class=\"detail-label\">Represented By:</span>\r\n                        <span>{{ doc.represented_by_lessee }}</span>\r\n                    </div>\r\n                    <div class=\"detail-item\">\r\n                        <span class=\"detail-label\">Trading As:</span>\r\n                        <span>{{ doc.list_trading_as }}</span>\r\n                    </div>\r\n                    <div class=\"detail-item\">\r\n                        <span class=\"detail-label\">Business Purpose:</span>\r\n                        <span>{{ doc.business_purpose or '' }}</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"party-block\">\r\n                <div class=\"party-title\">Tenant Details</div>\r\n                <div class=\"party-details\">\r\n                    <div class=\"detail-item\">\r\n                        <span class=\"detail-label\">Customer Type:</span>\r\n                        <span>{{ doc.customer_type }}</span>\r\n                    </div>\r\n                    <div class=\"detail-item\">\r\n                        <span class=\"detail-label\">Tax ID:</span>\r\n                        <span>{{ doc.tax_id }}</span>\r\n                    </div>\r\n                    <div class=\"detail-item\">\r\n                        <span class=\"detail-label\">Mobile:</span>\r\n                        <span>{{ doc.mobile }}</span>\r\n                    </div>\r\n                    <div class=\"detail-item\">\r\n                        <span class=\"detail-label\">Address:</span>\r\n                        <div class=\"horizontal-address\">\r\n                            {% if doc.tenant_address %}\r\n                                {% set address_parts = doc.tenant_address.split('\\n') %}\r\n                                {% for part in address_parts %}\r\n                                    <span class=\"address-item\">{{ part.strip() }}</span>\r\n                                {% endfor %}\r\n                            {% endif %}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"contact-grid\">\r\n                    <div class=\"detail-item\">\r\n                        <span class=\"detail-label\">General Contact:</span>\r\n                        <span>{{ doc.general__contact }}</span>\r\n                    </div>\r\n                    <div class=\"detail-item\">\r\n                        <span class=\"detail-label\">Email:</span>\r\n                        <span>{{ doc.email }}</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <!-- Premises Section - MUST STAY TOGETHER -->\r\n        <div class=\"section-title\">Premises</div>\r\n        <div class=\"premises-details\">\r\n            <div class=\"party-details\">\r\n                <div class=\"detail-item\">\r\n                    <span class=\"detail-label\">Property:</span>\r\n                    <span>{{ doc.property }}</span>\r\n                </div>\r\n                <div class=\"detail-item\">\r\n                    <span class=\"detail-label\">Floor:</span>\r\n                    <span>{{ doc.floor }}</span>\r\n                </div>\r\n                <div class=\"detail-item\">\r\n                    <span class=\"detail-label\">Accommodation Type:</span>\r\n                    <span>{{ doc.accommodation_type }}</span>\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"section-title\" style=\"font-size: 12pt; margin-top: 15px; margin-bottom: 10px;\">Rent Details</div>\r\n            <table class=\"rent-table\">\r\n                <thead>\r\n                    <tr>\r\n                        <th>No.</th>\r\n                        <th>Rent Item</th>\r\n                        <th>Floor Unit</th>\r\n                        <th>Area/Square Meter</th>\r\n                        <th>Rate</th>\r\n                        <th>Amount</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {% for item in doc.rent_details %}\r\n                        <tr>\r\n                            <td>{{ loop.index }}</td>\r\n                            <td>{{ item.rent_item or '' }}</td>\r\n                            <td>{{ item.floor_unit or '' }}</td>\r\n                            <td>{{ item.area or '' }}</td>\r\n                            <td>{{ item.rate or '' }}</td>\r\n                            <td>{{ item.amount or '' }}</td>\r\n                        </tr>\r\n                    {% endfor %}\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n\r\n        <!-- Payment Schedule Section -->\r\n        {% set schedule_doc = frappe.db.sql(\"SELECT name FROM `tabLease Contract Schedule` WHERE lease_contract = %s LIMIT 1\", (doc.name,), as_dict=True) %}\r\n        {% if schedule_doc %}\r\n            {% set shd_doc = frappe.get_doc(\"Lease Contract Schedule\", schedule_doc[0].name) %}\r\n            {% if shd_doc.invoice and shd_doc.invoice|length > 0 %}\r\n                <div class=\"section-title\">Payment Schedule</div>\r\n                <div class=\"payment-schedule-section\">\r\n                    <table class=\"payment-table\">\r\n                        <thead>\r\n                            <tr>\r\n                                <th>No.</th>\r\n                                <th>Lease Start</th>\r\n                                <th>Lease End</th>\r\n                                <th>Amount</th>\r\n                                <th>Invoice Number</th>\r\n                                <th>Invoice Status</th>\r\n                                <th>Is Allowance</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {% for invoice in shd_doc.invoice %}\r\n                                <tr>\r\n                                    <td>{{ loop.index }}</td>\r\n                                    <td>{{ invoice.lease_start or '' }}</td>\r\n                                    <td>{{ invoice.lease_end or '' }}</td>\r\n                                    <td>{{ invoice.amount or '' }}</td>\r\n                                    <td>{{ invoice.invoice_number or '' }}</td>\r\n                                    <td class=\"{% if invoice.invoice_status == 'Overdue' %}status-overdue{% elif invoice.invoice_status == 'Paid' %}status-paid{% endif %}\">\r\n                                        {{ invoice.invoice_status or '' }}\r\n                                    </td>\r\n                                    <td>{{ invoice.is_allowance or '' }}</td>\r\n                                </tr>\r\n                            {% endfor %}\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            {% endif %}\r\n        {% endif %}\r\n\r\n        <!-- Terms Section -->\r\n        <div class=\"section-title\">Terms</div>\r\n        <div class=\"terms-section\">\r\n            <div class=\"terms-grid\">\r\n                <div class=\"term-item\">\r\n                    <span class=\"term-label\">Lease Start:</span>\r\n                    <span>{{ doc.lease_start }}</span>\r\n                </div>\r\n                <div class=\"term-item\">\r\n                    <span class=\"term-label\">Lease End:</span>\r\n                    <span>{{ doc.lease_end }}</span>\r\n                </div>\r\n                <div class=\"term-item\">\r\n                    <span class=\"term-label\">Billing Frequency:</span>\r\n                    <span>{{ doc.billing_frequency }} Month/s</span>\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"allowance-section\">\r\n                <div class=\"term-item\">\r\n                    <span class=\"term-label\">Allowance Period:</span>\r\n                    <span>{{ doc.allowance_period }} months</span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <!-- Signature Section -->\r\n        <div class=\"signature-area\">\r\n            <div class=\"signature-box\">\r\n                <p>For and on behalf of<br><strong>{{ doc.owner_lessor }}</strong></p>\r\n                <br><br>\r\n                <p>_________________________</p>\r\n                <p>Signature</p>\r\n                <p>Name: {{ doc.employee_name }}</p>\r\n                <p>Designation: {{ doc.designation }}</p>\r\n                <p>Date: ___________________</p>\r\n            </div>\r\n\r\n            <div class=\"signature-box\">\r\n                <p>For and on behalf of<br><strong>{{ doc.tenant_lessee }}</strong></p>\r\n                <br><br>\r\n                <p>_________________________</p>\r\n                <p>Signature</p>\r\n                <p>Name: {{ doc.represented_by_lessee }}</p>\r\n                <p>Business Purpose: {{ doc.business_purpose }}</p>\r\n                <p>Date: ___________________</p>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"footer\">\r\n            <p>This document constitutes a legally binding lease agreement between the parties mentioned above.</p>\r\n            <p>Generated on {{ frappe.utils.now_datetime().strftime('%d-%m-%Y') }}</p>\r\n        </div>\r\n\r\n    </div>\r\n</body>\r\n</html>",
 "idx": 0,
 "line_breaks": 0,
 "margin_bottom": 15.0,
 "margin_left": 15.0,
 "margin_right": 15.0,
 "margin_top": 15.0,
 "modified": "2025-10-30 13:17:31.320967",
 "modified_by": "Administrator",
 "module": "Masar Mall",
 "name": "Contract",
 "owner": "Administrator",
 "page_number": "Hide",
 "pdf_generator": "wkhtmltopdf",
 "print_format_builder": 0,
 "print_format_builder_beta": 0,
 "print_format_for": "DocType",
 "print_format_type": "Jinja",
 "raw_printing": 0,
 "show_section_headings": 0,
 "standard": "Yes"
}